<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div id='container'>
        <div id='results'></div>

        <button id='rock'>Rock</button>
        <button id='paper'>Paper</button>
        <button id='scissors'>Scissors</button>
    </div>
    <script>

        //init array for random value
        const rps_Array = ["rock", "paper", "scissors"];
        let playerSelection;
        let computerSelection;
        let playerPoints = 0;
        let computerPoints = 0;
        //generate r/p/s at random
        function getComputerSelection() {
            //put ran value into ranVar
            computerSelection = Math.floor(Math.random() * rps_Array.length);
            //displays a random rock/paper/scissors choice
            computerSelection = rps_Array[computerSelection];
            return computerSelection;
        }

        //event listeners
        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click', function (e) {
                playerSelection = e.target.id;
                game();
            });
        });








        function game() {


            computerSelection = getComputerSelection();
            console.log("The computer selected " + computerSelection);
            gameRound(computerSelection, playerSelection);
           
            const buttons = document.querySelectorAll('button');
            buttons.forEach((button) => {
                button.addEventListener('click', function (e) {
                    const header = document.querySelector('h3')
                    container.removeChild(header);
                });

        });
        }

        function gameRound() {
            const container = document.querySelector('#container');
            const results = document.createElement('h3');
            if (computerSelection === playerSelection) {
                results.textContent = "It's a tie! Play again.";
                container.appendChild(results);
            } else {

                switch (computerSelection) {
                    case 'rock':
                        switch (playerSelection) {
                            case 'paper':


                                results.textContent = "You win! " + playerSelection + " beats " + computerSelection;
                                container.appendChild(results);

                                playerPoints++;
                                break;
                            case 'scissors':
                                results.textContent = "You lose! " + computerSelection + " beats " + playerSelection;
                                container.appendChild(results);

                                computerPoints++;
                                break;

                        }
                        break;
                    case 'paper':
                        switch (playerSelection) {
                            case 'rock':
                                results.textContent = "You lose! " + computerSelection + " beats " + playerSelection;
                                container.appendChild(results);
                                computerPoints++;
                                break;
                            case 'scissors':
                                results.textContent = "You win! " + playerSelection + " beats " + computerSelection;
                                container.appendChild(results);
                                playerPoints++
                                break;
                        }
                        break;
                    case 'scissors':
                        switch (playerSelection) {
                            case 'rock':
                                results.textContent = "You win! " + playerSelection + " beats " + computerSelection;
                                container.appendChild(results);
                                playerPoints++
                                break;
                            case 'paper':
                                results.textContent = "You lose! " + computerSelection + " beats " + playerSelection;
                                container.appendChild(results);
                                computerPoints++
                                break;
                        }



                }



            }

        }











    </script>
</body>

</html>